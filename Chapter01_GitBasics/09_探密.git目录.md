<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [探密.git目录](#探密git目录)
- [总结](#总结)
	- [COMMIT_EDITMSG](#commiteditmsg)
	- [`git cat-file`](#git-cat-file)

<!-- /TOC -->
# 探密.git目录

* HEAD：指向当前的工作路径
* config：存放本地仓库（local）相关的配置信息。
* refs/heads:存放分支
* refs/tags:存放tag，又叫里程牌 （当这次commit是具有里程碑意义的 比如项目1.0的时候 就可以打tag）
* objects：存放对象 .git/objects/ 文件夹中的子文件夹都是以哈希值的前两位字符命名 每个object由40位字符组成，前两位字符用来当文件夹，后38位做文件。

```shell
MacBook-Pro-4:git_le booboo$ tree .git
.git
├── COMMIT_EDITMSG //
├── HEAD
├── branches
├── config
├── description
├── hooks
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   └── update.sample
├── index
├── info
│   └── exclude
├── logs
│   ├── HEAD
│   └── refs
│       └── heads
│           ├── master
│           └── temp
├── objects
│   ├── 36
│   │   └── 9fc63d77b8d13dd29a21037256cb2690c15a82
│   ├── 6f
│   │   └── 47cef9a80991888e82e73aa5b78f7a784f345e
│   ├── 8c
│   │   └── 0b88e3e718781463cdc91c2b1367cdfa4fd293
│   ├── 91
│   │   └── b776cdad383885027c6655bbe4f85c00e17469
│   ├── b3
│   │   └── 02937d18a748f0e071c2c42712d2b18b0eeb1a
│   ├── c1
│   │   └── 9ae052e1588c855701d7aad3f35d2f361d4c1a
│   ├── c4
│   │   └── 744d9f2f4643646721d275f31ba421907d7fb4
│   ├── ce
│   │   └── 013625030ba8dba906f756967f9e9ca394464a
│   ├── e6
│   │   └── 9de29bb2d1d6434b8b29ae775ad8c2e48c5391
│   ├── f2
│   │   └── 23b4d31b661bdbe5947c862ba202991202fbd8
│   ├── f5
│   │   └── 634fdcfdc1b48a30b160b85d8f2aed5f3a60b6
│   ├── info
│   └── pack
└── refs
    ├── heads
    │   ├── master
    │   └── temp
    └── tags

23 directories, 33 files

```
# 总结

## COMMIT_EDITMSG

`.git/COMMIT_EDITMSG`文件中记录了上一次提交时的注释信息；与分支无关。

1. 查看文件的类型为`ASCII text`；

	```bash
	MacBook-Pro-4:git_le booboo$ ls -l .git/COMMIT_EDITMSG
	-rw-r--r--  1 booboo  staff  10  4  6 23:50 .git/COMMIT_EDITMSG

	MacBook-Pro-4:git_le booboo$ file .git/COMMIT_EDITMSG
	.git/COMMIT_EDITMSG: ASCII text
	```

2. 第一次查看文件中记录的明细内容为`modify 20190406`；

	```bash
	MacBook-Pro-4:git_le booboo$ cat .git/COMMIT_EDITMSG
	modify 20190406
	```

3. 将分支从`master`切换至`temp`后，查看文件内容没有变化；

	```shell
	MacBook-Pro-4:git_le booboo$ git checkout temp
	Switched to branch 'temp'
	MacBook-Pro-4:git_le booboo$ cat .git/COMMIT_EDITMSG
	modify 20190406
	```

4. 修改`temp`分支中的文件`temp.txt`；

	```shell
	MacBook-Pro-4:git_le booboo$ echo 20190406temp_test > temp.txt
	```

5. 提交变更至`temp`分支；

	```shell
	MacBook-Pro-4:git_le booboo$ git add -A
	MacBook-Pro-4:git_le booboo$ git commit -m 'temp_test'
	[temp 49c201f] temp_test
	 1 file changed, 1 insertion(+)
	```

6. 查看文件内容，变更为最近一次提交的内容`temp_test`；

	```shell
	MacBook-Pro-4:git_le booboo$ cat .git/COMMIT_EDITMSG
	temp_test
	```

7. 切换分支至`master`后，第四次查看文件内容，内容仍然为最近一次在`temp`分支提交的内容`temp_test`。

	```shell
	MacBook-Pro-4:git_le booboo$ git checkout master
	Switched to branch 'master'
	MacBook-Pro-4:git_le booboo$ cat .git/COMMIT_EDITMSG
	temp_test
	```

## `git cat-file`

|命令|功能|
|:--|:--|
|git cat-file |显示版本库对象的内容、类型及大小信息。|
|git cat-file -t b44dd71d62a5a8ed3 |显示版本库对象的类型|
|git cat-file -s b44dd71d62a5a8ed3 |显示版本库对象的大小|
|git cat-file -p b44dd71d62a5a8ed3 |显示版本库对象的内容|
